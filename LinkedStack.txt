// Node class used in the Linked Stack
class Node<T> {
    T data;        // Value stored in this node
    Node<T> next;  // Reference to the next node

    Node(T data) {
        this.data = data;   // Set the node value
        this.next = null;   // Initialize next as null
    }
}

// Linked List implementation of Stack
class LinkedStack<T> {

    Node<T> top;   // Pointer to the top element in the stack

    LinkedStack() {
        top = null; // Stack starts empty
    }

    // Check if the stack is empty
    boolean isEmpty() {
        return top == null;
    }

    // Push an element onto the stack
    void push(T val) {
        Node<T> node = new Node<>(val); // Create a new node
        node.next = top;                // Link new node to the previous top
        top = node;                     // Update top
    }

    // Pop and return the top element
    T pop() {
        if (isEmpty()) {
            System.out.println("Stack is empty");
            return null;
        }
        T ele = top.data;    // Store top element
        top = top.next;      // Move top to the next node
        return ele;
    }

    // Return the top element without removing it
    T peek() {
        if (isEmpty()) {
            System.out.println("Stack is empty");
            return null;
        }
        return top.data;
    }

    // Remove the top element without returning it
    void remove() {
        if (isEmpty()) {
            System.out.println("Stack is empty");
        } else {
            top = top.next;  // Just move top
        }
    }

    // Print the stack elements from top to bottom
    void print() {
        Node<T> temp = top;
        System.out.print("[ ");
        while (temp != null) {
            System.out.print(temp.data + " ");
            temp = temp.next;
        }
        System.out.println("]");
    }
}

public class Main {
    public static void main(String[] args) {

        LinkedStack<Integer> linkedStack = new LinkedStack<>();

        linkedStack.push(1);
        linkedStack.push(12);
        linkedStack.push(13);

        linkedStack.print();            // Print current stack
        System.out.println(linkedStack.peek());  // Peek top
        System.out.println(linkedStack.pop());   // Pop top
        linkedStack.remove();                    // Remove top
        linkedStack.print();                     // Print again
    }
}
