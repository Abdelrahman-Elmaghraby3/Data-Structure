import java.util.Scanner;

/**
 * Stack implementation using a generic array.
 * Supports push, pop, peek, remove, and print operations.
 */
class StackWithArray<T> {

    private int size;   // maximum size of the stack
    private T[] arr;    // array to store stack elements
    private int top;    // index of the top element

    // Constructor: takes size from the user
    StackWithArray(int size) {
        this.size = size;
        arr = (T[]) new Object[size]; // create array of objects
        top = -1;                    // empty stack indicator
    }

    // Check if stack is full
    boolean isFull() {
        return top + 1 == size;
    }

    // Check if stack is empty
    boolean isEmpty() {
        return top == -1;
    }

    // Push element into the stack
    void push(T ele) {
        if (!isFull()) {
            arr[++top] = ele;  // increment top then assign
        } else {
            System.out.println("Stack is full, cannot push " + ele);
        }
    }

    // Remove element (same as pop but without returning)
    void remove() {
        if (isEmpty()) {
            System.out.println("Stack is empty, nothing to remove");
        } else {
            top--;  // just move top down
        }
    }

    // Look at the top element without removing it
    T peek() {
        if (isEmpty()) {
            System.out.println("Stack is empty, nothing to peek");
            return null;
        }
        return arr[top];
    }

    // Pop element from the stack
    T pop() {
        if (isEmpty()) {
            System.out.println("Stack is empty, cannot pop");
            return null;
        }
        return arr[top--];  // return then decrement top
    }

    // Print stack elements
    void print() {
        if (isEmpty()) {
            System.out.println("Stack is empty");
            return;
        }

        System.out.print("[");
        for (int i = 0; i < top; i++) {
            System.out.print(arr[i] + " ");
        }
        System.out.println(arr[top] + "]");
    }
}

public class Main {
    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        System.out.print("Enter size of stack: ");
        int size = sc.nextInt();

        // Create stack with user-defined size
        StackWithArray<Integer> stack = new StackWithArray<>(size);

        // Test operations
        stack.push(40);
        stack.push(50);
        stack.push(60);
        stack.push(70);

        stack.print(); // show elements

        stack.remove(); // remove top element

        System.out.println(stack.pop());  // pop element
        System.out.println(stack.peek()); // see top without removing

        stack.print(); // final state
    }
}
